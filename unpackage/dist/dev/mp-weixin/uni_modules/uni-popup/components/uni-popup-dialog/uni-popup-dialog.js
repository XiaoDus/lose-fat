"use strict";const p=require("../uni-popup/popup.js"),e=require("../../../../common/vendor.js"),s=require("../uni-popup/i18n/index.js"),{t:u}=e.initVueI18n(s.messages),a={name:"uniPopupDialog",mixins:[p.popup],emits:["confirm","close","update:modelValue","input"],props:{inputType:{type:String,default:"text"},showClose:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""},maxlength:{type:Number,default:-1},focus:{type:Boolean,default:!0}},data(){return{dialogType:"error",val:""}},computed:{okText(){return this.confirmText||u("uni-popup.ok")},closeText(){return this.cancelText||u("uni-popup.cancel")},placeholderText(){return this.placeholder||u("uni-popup.placeholder")},titleText(){return this.title||u("uni-popup.title")}},watch:{type(t){this.dialogType=t},mode(t){t==="input"&&(this.dialogType="info")},value(t){this.maxlength!=-1&&this.mode==="input"?this.val=t.slice(0,this.maxlength):this.val=t},val(t){this.$emit("update:modelValue",t)}},created(){this.popup.disableMask(),this.mode==="input"?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},methods:{onOk(){this.mode==="input"?this.$emit("confirm",this.val):this.$emit("confirm"),!this.beforeClose&&this.popup.close()},closeDialog(){this.$emit("close"),!this.beforeClose&&this.popup.close()},close(){this.popup.close()}}};function r(t,d,i,h,n,o){return e.e({a:e.t(o.titleText),b:e.n("uni-popup__"+n.dialogType),c:i.mode==="base"},i.mode==="base"?{d:e.t(i.content)}:{e:i.maxlength,f:i.inputType,g:o.placeholderText,h:i.focus,i:n.val,j:e.o(l=>n.val=l.detail.value)},{k:i.showClose},i.showClose?{l:e.t(o.closeText),m:e.o((...l)=>o.closeDialog&&o.closeDialog(...l))}:{},{n:e.t(o.okText),o:e.o((...l)=>o.onOk&&o.onOk(...l))})}const c=e._export_sfc(a,[["render",r],["__file","/Users/xiaodu/前端/LoseFat/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue"]]);wx.createComponent(c);
