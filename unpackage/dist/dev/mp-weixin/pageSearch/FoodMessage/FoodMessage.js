"use strict";const e=require("../../common/vendor.js");if(!Array){const p=e.resolveComponent("uni-icons"),d=e.resolveComponent("uni-card"),n=e.resolveComponent("uni-th"),l=e.resolveComponent("uni-tr"),s=e.resolveComponent("uni-td"),u=e.resolveComponent("uni-table");(p+d+n+l+s+u)()}const b=()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js",x=()=>"../../uni_modules/uni-card/components/uni-card/uni-card.js",S=()=>"../../uni_modules/uni-table/components/uni-th/uni-th.js",L=()=>"../../uni_modules/uni-table/components/uni-tr/uni-tr.js",j=()=>"../../uni_modules/uni-table/components/uni-td/uni-td.js",A=()=>"../../uni_modules/uni-table/components/uni-table/uni-table.js";Math||(b+x+M+S+L+j+A)();const M=()=>"../../uni_modules/lime-echart/components/l-echart/l-echart.js",z={__name:"FoodMessage",setup(p){const{$request:d}=e.getCurrentInstance().appContext.config.globalProperties,n=e.ref(null),l=e.ref(null),s=e.ref(null),u=e.ref(null),f=e.ref(null),h=e.ref(null),i=e.ref(null),a=e.reactive({protein:[{value:0,name:"蛋白质",title:{offsetCenter:["0%","130%"]},detail:{valueAnimation:!0,offsetCenter:["0%","0%"]}}],joule:[{value:0,name:"能量",title:{offsetCenter:["0%","130%"]},detail:{valueAnimation:!0,offsetCenter:["0%","0%"]}}],calory:[{value:0,name:"热量",title:{offsetCenter:["0%","130%"]},detail:{valueAnimation:!0,offsetCenter:["0%","0%"]}}],sugar:[{value:0,name:"糖",title:{offsetCenter:["0%","130%"]},detail:{valueAnimation:!0,offsetCenter:["0%","0%"]}}],fat:[{value:0,name:"脂肪",title:{offsetCenter:["0%","130%"]},detail:{valueAnimation:!0,offsetCenter:["0%","0%"]}}],carbohydrate:[{value:0,name:"碳水化合物",title:{offsetCenter:["0%","130%"]},detail:{valueAnimation:!0,offsetCenter:["0%","0%"]}}]}),o=e.reactive({protein:{series:[{data:a.protein,type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},title:{fontSize:13},detail:{width:20,height:10,fontSize:10,color:"inherit",formatter:""}}]},joule:{series:[{data:a.joule,type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},title:{fontSize:13},detail:{width:20,height:10,fontSize:10,color:"inherit",formatter:""}}]},calory:{series:[{data:a.calory,type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},title:{fontSize:13},detail:{width:20,height:10,fontSize:10,color:"inherit",formatter:""}}]},sugar:{series:[{data:a.sugar,type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},title:{fontSize:13},detail:{width:20,height:10,fontSize:10,color:"inherit",formatter:""}}]},fat:{series:[{data:a.fat,type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},title:{fontSize:13},detail:{width:20,height:10,fontSize:10,color:"inherit",formatter:""}}]},carbohydrate:{series:[{data:a.carbohydrate,type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},title:{fontSize:13},detail:{width:20,height:10,fontSize:10,color:"inherit",formatter:""}}]}}),c=e.ref(0),v=e.reactive({1:{icon:"star-filled",text:"已收藏"},0:{icon:"star",text:"收藏"}}),m=async()=>{const r=await d("/collect/edit_collect?foodId="+t.value.foodId,"GET");r.code==="500"?e.index.showToast({title:"收藏失败",duration:2e3}):c.value=r.data},g=e.reactive({1:{icon:"#70c995",text:"color:#70c995"},2:{icon:"#f7cc4f",text:"color:#f7cc4f"},3:{icon:"red",text:"color:red"}}),t=e.ref(null);e.onLoad(()=>{e.index.$on("foodMessage",r=>{e.index.setNavigationBarTitle({title:r.name}),t.value=r,c.value=r.collect})}),e.onMounted(()=>{setTimeout(async()=>{if(a.protein[0].value=t.value.protein,o.protein.series[0].detail.formatter=t.value.protein+t.value.proteinUnit,a.joule[0].value=(t.value.joule/100).toFixed(2),o.joule.series[0].detail.formatter=Math.round(t.value.joule)+t.value.jouleUnit,a.calory[0].value=(t.value.calory/10).toFixed(2),o.calory.series[0].detail.formatter=Math.round(t.value.calory)+t.value.caloryUnit,a.sugar[0].value=t.value.sugar,o.sugar.series[0].detail.formatter=Math.round(t.value.sugar)+t.value.sugarUnit,a.fat[0].value=t.value.fat,o.fat.series[0].detail.formatter=Math.round(t.value.fat)+t.value.fatUnit,a.carbohydrate[0].value=t.value.carbohydrate,o.carbohydrate.series[0].detail.formatter=Math.round(t.value.carbohydrate)+t.value.carbohydrateUnit,!n.value||((await n.value.init(e.echarts)).setOption(o.protein),!l.value)||((await l.value.init(e.echarts)).setOption(o.joule),!s.value)||((await s.value.init(e.echarts)).setOption(o.calory),!u.value)||((await u.value.init(e.echarts)).setOption(o.sugar),!f.value)||((await f.value.init(e.echarts)).setOption(o.fat),!h.value))return;(await h.value.init(e.echarts)).setOption(o.carbohydrate)},500)});const y=()=>{e.index.navigateTo({url:"/pageSearch/moreMessage/moreMessage",success:()=>{e.index.$emit("moreMessage",t.value)}})},_=()=>{e.index.navigateTo({url:"../FoodCompare/FoodCompare?&whoFood=1",success:()=>{e.index.$emit("Food",t.value)}})};return(r,w)=>e.e({a:e.t(t.value.name),b:e.p({type:"smallcircle-filled",size:"12",color:g[t.value.healthLight].icon}),c:e.t(t.value.healthTips),d:e.s(g[t.value.healthLight].text),e:e.t(t.value.healthSuggest),f:e.p({type:v[c.value].icon,size:"18",color:"#999"}),g:e.t(v[c.value].text),h:e.o(m),i:e.p({type:"eye",size:"18",color:"#999"}),j:e.o(_),k:e.p({type:"plus",size:"18",color:"#999"}),l:e.o(C=>r.actionsClick("评论")),m:e.sr(n,"e1504a55-6,e1504a55-5",{k:"protein"}),n:e.o(i.value),o:e.sr(l,"e1504a55-7,e1504a55-5",{k:"joule"}),p:e.o(i.value),q:e.sr(s,"e1504a55-8,e1504a55-5",{k:"calory"}),r:e.o(i.value),s:e.sr(u,"e1504a55-9,e1504a55-5",{k:"sugar"}),t:e.o(i.value),v:e.sr(f,"e1504a55-10,e1504a55-5",{k:"fat"}),w:e.o(i.value),x:e.sr(h,"e1504a55-11,e1504a55-5",{k:"carbohydrate"}),y:e.o(i.value),z:e.p({align:"center"}),A:e.p({align:"center"}),B:t.value.calory!=""},t.value.calory!=""?{C:e.p({align:"center"}),D:e.t(t.value.calory),E:e.t(t.value.caloryUnit),F:e.p({align:"center"})}:{},{G:t.value.protein!=""},t.value.protein!=""?{H:e.p({align:"center"}),I:e.t(t.value.protein),J:e.t(t.value.proteinUnit),K:e.p({align:"center"})}:{},{L:t.value.fat!=""},t.value.fat!=""?{M:e.p({align:"center"}),N:e.t(t.value.fat),O:e.t(t.value.fatUnit),P:e.p({align:"center"})}:{},{Q:t.value.carbohydrate!=""},t.value.carbohydrate!=""?{R:e.p({align:"center"}),S:e.t(t.value.carbohydrate),T:e.t(t.value.carbohydrateUnit),U:e.p({align:"center"})}:{},{V:t.value.fiberDietary!=""},t.value.fiberDietary!=""?{W:e.p({align:"center"}),X:e.t(t.value.fiberDietary),Y:e.t(t.value.fiberDietaryUnit),Z:e.p({align:"center"})}:{},{aa:t.value.sugar!=""},t.value.sugar!=""?{ab:e.p({align:"center"}),ac:e.t(t.value.sugar),ad:e.t(t.value.sugarUnit),ae:e.p({align:"center"})}:{},{af:t.value.natrium!=""},t.value.natrium!=""?{ag:e.p({align:"center"}),ah:e.t(t.value.natrium),ai:e.t(t.value.natriumUnit),aj:e.p({align:"center"})}:{},{ak:e.p({border:!0,stripe:!0,emptyText:"暂无更多数据"}),al:e.o(y),am:e.p({title:"营养信息",spacing:"15px",extra:"每「100克」可食用部"})})}},F=e._export_sfc(z,[["__scopeId","data-v-e1504a55"],["__file","/Users/xiaodu/前端/LoseFat/pageSearch/FoodMessage/FoodMessage.vue"]]);wx.createPage(F);
